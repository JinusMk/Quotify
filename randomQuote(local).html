<!DOCTYPE html>
<html>
    <head>
        <title>
            Quotify
        </title>
        <link rel="stylesheet" href="styles.css">
    </head>
    <body>
        <div class="layout">
                <h2>QUOTIFY</h2>
                <div class="topnav">
                        <a href="displayQuote.html">Random Quote API</a>
                        <a class="active" href = '#'>Random Quote(local)</a>
                        <a href = 'addQuote.html'>Add Quote</a>
                        <a href= 'listQuotes.html'>   List All quotes  </a>
                </div>
                <div class="blockquote">
                    <blockquote>
                        <p id = 'quote'></p>
                        <cite id = 'author'></cite>
                    </blockquote>
                    <img src='./save.png' id="save" />
                </div>
                <div class="get-quote">
                    <button id = 'getQuote' class = "button">Get Aother Quote</button>
                </div>
        </div>
        <script>
        const quoteHandle = document.getElementById('quote')
        const auhtorHandle = document.getElementById('author')
        const btnHandle = document.getElementById('getQuote')
            let quotes 
        function displayQuote(){
            if(localStorage.getItem('quotes'))
            quotes = JSON.parse(localStorage.getItem('quotes'))
            else
        {
            localStorage.setItem('quotes',JSON.stringify([]))
            quotes = JSON.parse(localStorage.getItem('quotes'))
        }
       // console.log(quotes[0])
        let len = quotes.length 
        if(len >0){
        const i = Math.floor(Math.random()*len)
        quoteHandle.innerHTML = quotes[i].quote
        if(quotes[i].author)
                auhtorHandle.innerHTML = quotes[i].author
        else
                auhtorHandle.innerHTML = '<br/>'
        }else{
            quoteHandle.textContent = 'Internal storage empty'
            // auhtorHandle.textContent = 'Developer'
        }
        }

        displayQuote()

        btnHandle.addEventListener('click',displayQuote)
     
            
        </script>
        
    </body>
        
    </html>