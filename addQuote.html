<!DOCTYPE html>
<html>
    <head>
        <title>
            Quotify
        </title>
        <link rel="stylesheet" href="styles.css">
    </head>
    <body>
        <div class="layout">
            <h2>QUOTIFY</h2>
            <div class="topnav">
                    <a href="displayQuote.html">Random Quote API</a>
                    <a href = 'randomQuote(local).html'>Random Quote(local)</a>
                    <a class="active" href = '#'>Add Quote</a>
                    <a href= 'listQuotes.html'>   List All quotes  </a>
            </div>
            <div class="form-wrapper">
                <form id = "formHead">
                    <div class="label-wrapper">
                        <label>Quote</label>
                    </div>
                        <textarea id = 'quoteHead' placeholder="type the quote here..." rows='10' cols ='50'></textarea>
                    <div class="label-wrapper">
                        <label>Author</label>
                    </div>
                        <textarea id = 'authorHead' placeholder = 'author name'rows = '2' cols = '50'></textarea>
                    <input type="submit" value="Save Quote" id = 'saveQuote' class = "button"></input>
                </form>
            </div>
        </div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/node-uuid/1.4.8/uuid.js"></script>
        <script>
            const quoteHeadHandle = document.getElementById('quoteHead')
            const authorHandle = document.getElementById('authorHead')
            const saveButton = document.getElementById('saveQuote')
            const formHandle = document.getElementById('formHead')


            let quotes = []
                if(localStorage.getItem('quotes')){
                    quotes = JSON.parse(localStorage.getItem('quotes'))
                }


            saveButton.addEventListener('click',saveQuote)

            function saveQuote(event){
                  event.preventDefault()
                 if(quoteHeadHandle.value && authorHandle.value){
                quoteObj = {
                    quote: quoteHeadHandle.value,
                    author:authorHandle.value,
                    id:uuid()
                     }
                quotes.push(quoteObj)
                localStorage.setItem('quotes',JSON.stringify(quotes))
                alert('Quote Added Successfully!')
                formHandle.reset()
            }else{
                alert('Type Quote and Author name')
             }
            }
        </script>
    </body>          
 </html>
